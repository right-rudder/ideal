<%= render "shared/header"%>

<header class="w-full bg-piper bg-cover h-screen-3/4 lg:h-screen-4/5 bg-center flex justify-center items-center">
  <div class="px-5 py-40 lg:py-52 flex flex-col justify-center items-center w-full">
      <h1 class="font-bold text-5xl text-center">Fixed Wing Aircraft</h1>
      <h2 class="font-bold text-4xl text-center py-10">Fly an airplane today at Ideal Aviation</h2>
      <%= link_to "GET CHECKED OUT NOW", root_path, class: "btn-primary" %>
  </div>
</header>

<section class="flex flex-col lg:flex-row-reverse pt-10 pb-0 lg:py-10">
  <div class="flex flex-col items-center lg:w-1/2 p-text">
    <h3 class="text-3xl font-semibold pb-10 font-sans mx-5 text-center">Tecnams</h3>
    <p class="w-3/4 pb-10">
      Ideal Aviation is proud to be the only school in the area that offers Tecnam aircraft for our students. you'll have access to some of the most advanced and innovative aircraft on the market. From the modern avionics to the sleek design, our Tecnam light sport aircraft offers an unmatched flying experience that you won't find anywhere else in St. Louis.
    </p>
    
  </div>
  <div class="flex flex-col items-center lg:w-1/2">
    <!--Slider--->
    <div x-data="{
      slide: 0,
      images: [
        '<%= image_url "tecnam1.webp" %>',
        '<%= image_url "tecnam2.webp" %>',
        '<%= image_url "tecnam3.webp" %>'
      ],
      autoplay: null,
      startAutoplay() {
        this.autoplay = setInterval(() => {
          this.nextSlide();
        }, 7000);
      },
      stopAutoplay() {
        clearInterval(this.autoplay);
        this.autoplay = null;
      },
      nextSlide() {
        this.slide = (this.slide + 1) % this.images.length;
      },
      prevSlide() {
        this.slide = this.slide - 1 < 0 ? this.images.length - 1 : this.slide - 1;
      }
    }" x-init="startAutoplay()" id="slider" class="w-full lg:w-3/4">
      <div x-show="images.length > 1" class="relative">
    <template x-for="(image, index) in images" :key="index">
      <img x-show="slide === index" :src="image" :alt="'Modern Tecnam Airplane ' + (index + 1)" class="w-full"
        x-transition:enter="opacity-0 duration-500" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
        x-transition:leave="opacity-100 duration-500" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
        :class="{'hidden': index !== slide}" x-init="setTimeout(() => { $el.classList.remove('hidden'); }, 100)">
    </template>

        <button x-show="images.length > 1" x-on:mouseover="stopAutoplay()" x-on:mouseleave="startAutoplay()" x-on:click="prevSlide()" class="absolute top-1/2 left-0 transform -translate-y-1/2 px-4 py-2 rounded-md text-white bg-ideal-blue hover:bg-ideal-blue-light focus:outline-none focus:shadow-outline-gray transition duration-150 ease-in-out mx-3">
          <span class="sr-only">Previous</span>
          <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        <button x-show="images.length > 1" x-on:mouseover="stopAutoplay()" x-on:mouseleave="startAutoplay()" x-on:click="nextSlide()" class="absolute top-1/2 right-0 transform -translate-y-1/2 px-4 py-2 rounded-md text-white bg-ideal-blue hover:bg-ideal-blue-light focus:outline-none focus:shadow-outline-gray transition duration-150 ease-in-out mx-3">
          <span class="sr-only">Next</span>
          <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </button>
        <div class="absolute bottom-0 left-0 w-full flex justify-center space-x-2 pb-2">
          <template x-for="(image, index) in images" :key="index">
            <button x-on:click="slide = index" :class="{'bg-ideal-blue': index === slide, 'bg-slate-50': index !== slide}" class="h-2 w-2 rounded-full"></button>
          </template>
        </div>
      </div>
    </div>
  </div>
</section>

<%= render "shared/cta_arch"%>
<%= render "shared/cta_next_steps"%>
<%= render "shared/footer"%>